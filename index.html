<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Smart Savings Calculator - Track your income allocation and savings with beautiful visualizations">
    <title>Smart Savings Calculator | Track Your Financial Goals</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2" />
                        <path
                            d="M16 8V24M12 12C12 10.8954 13.7909 10 16 10C18.2091 10 20 10.8954 20 12C20 13.1046 18.2091 14 16 14C13.7909 14 12 14.8954 12 16C12 17.1046 13.7909 18 16 18C18.2091 18 20 18.8954 20 20C20 21.1046 18.2091 22 16 22C13.7909 22 12 21.1046 12 20"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
                <span class="logo-text">SmartSave</span>
            </div>
            <nav class="nav">
                <a href="#calculator" class="nav-link active">Calculator</a>
                <a href="#breakdown" class="nav-link">Breakdown</a>
                <a href="#trends" class="nav-link">Trends</a>
                <a href="#taskmanager" class="nav-link nav-link-tasks">
                    <svg width="18" height="18" viewBox="0 0 20 20" fill="none">
                        <path
                            d="M9 5H7C5.89543 5 5 5.89543 5 7V15C5 16.1046 5.89543 17 7 17H13C14.1046 17 15 16.1046 15 15V7C15 5.89543 14.1046 5 13 5H11M9 5V3H11V5M9 5H11M7 9H13M7 13H10"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                    </svg>
                    Tasks
                    <span id="taskNotificationBadge" class="notification-badge" style="display: none;">0</span>
                </a>
            </nav>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1 class="hero-title">Take Control of Your <span class="highlight">Finances</span></h1>
                <p class="hero-subtitle">Visualize your spending, track your savings, and build a better financial
                    future with our intelligent savings calculator.</p>
            </div>
            <div class="hero-decoration">
                <div class="floating-circle circle-1"></div>
                <div class="floating-circle circle-2"></div>
                <div class="floating-circle circle-3"></div>
            </div>
        </section>

        <!-- Main Calculator Section -->
        <main class="main-content">
            <section id="calculator" class="calculator-section">
                <div class="card principal-card">
                    <div class="card-header">
                        <h2 class="card-title">Principal Amount</h2>
                        <p class="card-description">Enter your total income or savings amount</p>
                    </div>
                    <div class="input-group">
                        <span class="currency-symbol">Ksh.</span>
                        <input type="number" id="principalAmount" placeholder="0.00" min="0" step="0.01">
                    </div>
                    <div class="quick-amounts">
                        <button class="quick-btn" data-amount="1000">Ksh. 1,000</button>
                        <button class="quick-btn" data-amount="5000">Ksh. 5,000</button>
                        <button class="quick-btn" data-amount="10000">Ksh. 10,000</button>
                        <button class="quick-btn" data-amount="50000">Ksh. 50,000</button>
                    </div>
                </div>

                <div class="card categories-card">
                    <div class="card-header">
                        <h2 class="card-title">Allocation Categories</h2>
                        <p class="card-description">Set percentages for each spending category</p>
                    </div>

                    <div id="categoriesContainer" class="categories-container">
                        <!-- Categories will be dynamically added here -->
                    </div>

                    <div class="add-category-section">
                        <div class="add-category-inputs">
                            <input type="text" id="newCategoryName" placeholder="Category name"
                                class="category-name-input">
                            <input type="number" id="newCategoryPercent" placeholder="%" min="0" max="100"
                                class="category-percent-input">
                            <input type="color" id="newCategoryColor" value="#E8A87C" class="category-color-input">
                        </div>
                        <button id="addCategoryBtn" class="add-btn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" />
                            </svg>
                            Add Category
                        </button>
                    </div>

                    <div class="total-percentage">
                        <span>Total Allocated:</span>
                        <span id="totalPercentage" class="percentage-value">0%</span>
                    </div>
                </div>
            </section>

            <!-- Breakdown Section -->
            <section id="breakdown" class="breakdown-section">
                <div class="section-header">
                    <h2 class="section-title">Financial Breakdown</h2>
                    <p class="section-subtitle">See how your money is distributed across categories</p>
                </div>

                <div class="breakdown-grid">
                    <div class="card chart-card">
                        <h3 class="chart-title">Allocation Overview</h3>
                        <div class="chart-container">
                            <canvas id="allocationChart"></canvas>
                        </div>
                    </div>

                    <div class="card summary-card">
                        <h3 class="chart-title">Allocation Summary</h3>
                        <div id="summaryContainer" class="summary-container">
                            <!-- Summary items will be dynamically added -->
                        </div>
                        <div class="remaining-section">
                            <div class="remaining-label">Remaining (Savings)</div>
                            <div id="remainingAmount" class="remaining-amount">Ksh. 0.00</div>
                            <div id="remainingPercent" class="remaining-percent">100%</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Trends Section -->
            <section id="trends" class="trends-section">
                <div class="section-header">
                    <h2 class="section-title">Usage Trends</h2>
                    <p class="section-subtitle">Track your spending patterns over time</p>
                </div>

                <div class="trends-controls">
                    <button id="saveSnapshot" class="snapshot-btn">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path
                                d="M17 10V15C17 16.1046 16.1046 17 15 17H5C3.89543 17 3 16.1046 3 15V10M10 3V13M10 13L6 9M10 13L14 9"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        Save Current Snapshot
                    </button>
                    <button id="clearHistory" class="clear-btn">Clear History</button>
                </div>

                <div class="trends-grid">
                    <div class="card trend-chart-card">
                        <h3 class="chart-title">Spending Trends Over Time</h3>
                        <div class="chart-container trend-chart-container">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>

                    <div class="card trend-chart-card">
                        <h3 class="chart-title">Category Comparison</h3>
                        <div class="chart-container trend-chart-container">
                            <canvas id="comparisonChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="card history-card">
                    <h3 class="chart-title">Snapshot History</h3>
                    <div id="historyContainer" class="history-container">
                        <p class="empty-history">No snapshots saved yet. Save a snapshot to track your trends!</p>
                    </div>
                </div>
            </section>

            <!-- Task Manager Section -->
            <section id="taskmanager" class="taskmanager-section">
                <div class="section-header">
                    <h2 class="section-title">Task Manager</h2>
                    <p class="section-subtitle">Organize and track your tasks efficiently</p>
                </div>

                <div class="task-input-card card">
                    <div class="task-input-wrapper">
                        <input type="text" id="newTaskInput" placeholder="Enter a new task..." class="task-input">
                        <select id="taskPriority" class="task-priority-select">
                            <option value="low">Low Priority</option>
                            <option value="medium" selected>Medium Priority</option>
                            <option value="high">High Priority</option>
                        </select>
                        <button id="addTaskBtn" class="add-task-btn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" />
                            </svg>
                            Add Task
                        </button>
                    </div>
                </div>

                <div class="task-board">
                    <div class="task-column" data-status="not-started">
                        <div class="task-column-header">
                            <div class="column-title-wrapper">
                                <span class="column-dot not-started"></span>
                                <h3 class="column-title">Not Started</h3>
                            </div>
                            <span id="notStartedCount" class="task-count">0</span>
                        </div>
                        <div id="notStartedTasks" class="task-list"></div>
                    </div>

                    <div class="task-column" data-status="in-progress">
                        <div class="task-column-header">
                            <div class="column-title-wrapper">
                                <span class="column-dot in-progress"></span>
                                <h3 class="column-title">In Progress</h3>
                            </div>
                            <span id="inProgressCount" class="task-count">0</span>
                        </div>
                        <div id="inProgressTasks" class="task-list"></div>
                    </div>

                    <div class="task-column" data-status="completed">
                        <div class="task-column-header">
                            <div class="column-title-wrapper">
                                <span class="column-dot completed"></span>
                                <h3 class="column-title">Completed</h3>
                            </div>
                            <span id="completedCount" class="task-count">0</span>
                        </div>
                        <div id="completedTasks" class="task-list"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2026 David Kyalo. Your path to financial wellness.</p>
        </footer>
    </div>

    <!-- Chatbot Widget -->
    <button id="chatbotToggle" class="chatbot-toggle" aria-label="Open chat">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M8 10H16M8 14H12" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
    </button>

    <div id="chatWindow" class="chat-window">
        <div class="chat-header">
            <div class="chat-header-content">
                <div class="chat-avatar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                        <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
                <div>
                    <h3 class="chat-title">Smart Save Assistant</h3>
                    <p class="chat-status">Always here to help</p>
                </div>
            </div>
            <button id="chatClose" class="chat-close" aria-label="Close chat">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
            </button>
        </div>

        <div id="chatMessages" class="chat-messages">
            <!-- Messages will be added here dynamically -->
        </div>

        <div class="chat-input-container">
            <input type="text" id="chatInput" class="chat-input" placeholder="Ask about savings or tasks..."
                autocomplete="off">
            <button id="chatSend" class="chat-send-btn" aria-label="Send message">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 8L11 13" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </button>
        </div>
    </div>

    <script src="app.js"></script>
    <script src="chatbot.js"></script>
</body>

</html>